model_path: checkpoints/20250824_hist2hist_dist_100ep.pth
num_workers: 4
num_samples: 5          # number of images to test during the evaluate step
num_steps: 400          # number of iterations to perform during generative accumulation of radiance
gen_mode: img           # 'img' for probability of radiance across image or 'res' for residual probability
plot_every: 20          # how oftern to plot the image

model:
  model_name: gap
  in_channels: 102                      # 102 when aov = true
  n_bins_input: 32                      # hist_bins if only using hist, else 18 if using other stats
  out_mode: dist                        # 'mean' or 'dist' to output RGB image or distrbution
  merge_mode: concat                    # 'add' or 'concat'
  depth: 5                              # number of encoder/decoder blocks
  start_filters: 32
  learning_rate: 1e-4

dataset:
  root_dir: output                      # Raw dataset location
  cached_dir: histograms                # Cached histograms are saved
  crop_size: 128
  low_spp: 64
  high_spp: 4500
  hist_bins: 32
  mode: hist                            # Options: 'hist' for hist2hist
  data_augmentation: true               # random horizontal/vertical flips
  virt_size: 1000                       # number of crops to generate across all the scenes
  clean: true                           # whether to include 'clean' targets if available
  debug: true                           # saves plot to output save_dir for debugging
  stat: false                           # wether to include mean and var value alongside histogram (helps with colour reconstruction)
  aov: true                             # whether to include 'aov' channels to input image
  target_sample: 32                     # number of samples assigned to target (out of low_spp samples)                            
  log_bins: true                        # whether to use histogram with log or linear binning
  minPSNR: -40
  maxPSNR: -5

# DATALOADER
batch_size: 16
num_workers: 4
shuffle: true
pin_memory: false
crop: false                             # whether to compute bin edges per crop or per image  
start_from: img                         # whether to start generating from an empty image or a noisy one
